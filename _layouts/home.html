---
layout: default
---
{%- if page.title -%}
  <h1 class="mb-4">{{ page.title }}</h1>
{%- endif -%}

{{ content }}

{%- if site.posts.size > 0 -%}

  {%- comment -%} Configurações globais (executadas apenas 1x) {%- endcomment -%}
  {%- assign date_format   = site.minima.date_format | default: "%-d/%-m/%y" -%}
  {%- assign show_excerpts = site.show_excerpts | default: false -%}

  <h2 class="mb-3">{{ page.list_title | default: "Posts" }}</h2>

  {%- assign pinned = site.posts | where: "pinned", true -%}
  {%- assign normal = site.posts | where_exp: "item", "item.pinned != true" -%}

  <div class="row g-4">

    {%- comment -%} Posts fixados {%- endcomment -%}
    {%- for post in pinned -%}
      <div class="col-12 col-md-6">
        <a href="{{ post.url | relative_url }}" class="text-decoration-none">
          <div class="border border-primary border-2 rounded shadow-sm px-3 py-2 h-100 card-hover">
            <small class="text-muted fw-bolder d-flex justify-content-between align-items-center">
              <span>
                <i class="bi bi-calendar-event me-2"></i>
                {{ post.date | date: date_format }}
              </span>
              <i class="bi bi-pin-angle-fill"></i>
            </small>
            <h5 class="mt-3">{{ post.title | escape }}</h5>

            {%- if show_excerpts -%}
              <p class="mb-0 mt-2 text-muted">
                {{ post.excerpt | strip_html | truncatewords: 30 }}
              </p>
            {%- endif -%}
          </div>
        </a>
      </div>
    {%- endfor -%}

    {%- comment -%} Posts normais {%- endcomment -%}
    {%- for post in normal -%}
      <div class="col-12 col-md-6">
        <a href="{{ post.url | relative_url }}" class="text-decoration-none">
          <div class="border rounded shadow-sm px-3 py-2 h-100 card-hover">
            <small class="text-muted fw-bolder">
              <i class="bi bi-calendar-event me-2"></i>
              {{ post.date | date: date_format }}
            </small>
            <h5 class="mt-3">{{ post.title | escape }}</h5>

            {%- if show_excerpts -%}
              <p class="mb-0 mt-2 text-muted">
                {{ post.excerpt | strip_html | truncatewords: 30 }}
              </p>
            {%- endif -%}
          </div>
        </a>
      </div>
    {%- endfor -%}

  </div>

{%- endif -%}
