---
layout: default
---
{%- if page.title -%}
  <h1 class="mb-4">{{ page.title }}</h1>
{%- endif -%}

{{ content }}

{%- if site.posts.size > 0 -%}

  {%- comment -%} Configurações globais (executadas apenas 1x) {%- endcomment -%}
  {%- assign show_excerpts = site.show_excerpts | default: false -%}
  {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}

  <h2 class="mb-3">{{ page.list_title | default: "Posts" }}</h2>

  {%- comment -%} Ordena posts: pinned primeiro e todos por data desc {%- endcomment -%}
  {%- assign pinned_posts = site.posts | where: "pinned", true | sort: "date" | reverse -%}
  {%- assign unpinned_posts = site.posts | where_exp: "post", "post.pinned != true" | sort: "date" | reverse -%}
  {%- assign sorted_posts = pinned_posts | concat: unpinned_posts -%}

  <div class="row g-4">
    {%- for post in sorted_posts -%}
      <div class="col-12 col-md-6">
        <a href="{{ post.url | relative_url }}" class="text-decoration-none">
          <div class="border rounded shadow-sm px-3 py-2 h-100 card-hover
                      {% if post.pinned %} border-primary border-2 {% endif %}">
            <small class="text-muted fw-bolder d-flex justify-content-between align-items-center">
              <span>
                <i class="bi bi-calendar-event me-2"></i>
                {{ post.date | date: date_format }}
              </span>
              {%- if post.pinned -%}
                <i class="bi bi-pin-angle-fill"></i>
              {%- endif -%}
            </small>
            <h5 class="mt-3">{{ post.title | escape }}</h5>

            {%- if show_excerpts -%}
              <p class="mb-0 mt-2 text-muted">
                {{ post.excerpt | strip_html | truncatewords: 30 }}
              </p>
            {%- endif -%}
          </div>
        </a>
      </div>
    {%- endfor -%}
  </div>

{%- endif -%}
